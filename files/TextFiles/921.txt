Project:Support desk Jump to navigation Jump to search About this board Edit description Welcome to the MediaWiki Support desk, where you can ask MediaWiki questions! (Read this message in a different language) See also Other places to ask for help: Chat rooms Email groups StackOverflow (third-party) Unofficial MWUsers forum (third-party) Before you post Check the basic How does MediaWiki work? guide. Check the FAQ and Errors and symptoms . If your question is about a specific feature, check the relevant technical manual , end-user help or extension page and consider asking on its talk page . For issues about the mediawiki.org website, report to Current issues instead. For trying out wiki editing, use the Sandbox instead. Post a new question To help us answer your questions, please indicate which versions you are using, as found on your wiki's Special:Version page: MediaWiki version PHP version Database type and version Please include the web address (URL) to your wiki if possible. It's often easier for us to identify the source of the problem if we can see the error directly. To start a new thread, click "Start a new topic". Support archives (2006-2015) Text is available under the Creative Commons Attribution-ShareAlike License; additional terms may apply. See Terms of Use for details. Start a new topic You are not logged in. To receive attribution with your name instead of your IP address, you can log in or create an account. Appointment setting with ContactPage 17 comments • 15:25, 7 December 2020 46 seconds ago 17 Edit title History Permalink Summarize 49.230.13.180 (talkcontribs) In a MediaWiki 1.34.2 website with Extension:ContactPage I have a principally all-core contact form by which potential customers can inquire about work services. I desire to add a form field which its label is, approximately: When would you like to have your appointment approximately? I contemplate two options to do so: A simple text field in which the potential customer writes something like "tomorrow" or "perhaps next week" or "01/01/21" (a flexible approach to suggest an appointment time) Some kind of a date field in which a potential customer picks up DD/MM/YY details from a modal window, hence cannot freely write phrases such as "tomorrow" or "perhaps next week" and so forth Is the second option feasible with the current MediaWiki core release and anyway what approach would you took, would you say? Reply 07:32, 3 December 2020 4 days ago Permalink 49.230.13.180 (talkcontribs) By the way, about option 2, you might want to elaborate about how to let a potential customer to choose an hour and minute, alongside the DD/MM/YY. Reply 10:27, 3 December 2020 4 days ago Permalink MarkAHershberger (talkcontribs) You should look at PageForms which has a calendar input widget. If you want to do this without adding an extension, you're going to have to write some JavaScript. You can probably find an example of how to do this via your favorite search engine. Reply 19:39, 3 December 2020 3 days ago Permalink 49.230.13.180 (talkcontribs) @MarkAHershberger thanks; From an extension to MediaWiki that allows users to add, edit and query data using forms It wasn't clear to me if this extension is an "alternative" or "rival" to ContactPage with a similar purpose (creating contact forms) but with just different features, or perhaps its some kind of an add-on on top of ContactPage?... Reply 20:09, 3 December 2020 3 days ago Permalink MarkAHershberger (talkcontribs) PageForms will just let you create forms that result in wiki pages. Since you are looking to send notifications, maybe this wouldn't work for you. But then.... maybe it would since you could have the forms add on to someone's talk page. Reply 20:36, 3 December 2020 3 days ago Permalink Bawolff (talkcontribs) contact page supports field types named date, time or datetime. Why don't you try one of those , see what happens. Reply 05:17, 4 December 2020 3 days ago Permalink 49.230.13.180 (talkcontribs) Thank you @Bawolff Funny, I didn't find data about this at: Extension:ContactPage HTMLForm About: 'date' => HTMLDateTimeField::class, 'time' => HTMLDateTimeField::class, 'datetime' => HTMLDateTimeField::class, I assume that datetime would be the best for me. I am not sure how it is correct to create an additional field from that; is there a code example somewhere? How about; 'additional_field_x' => array(
    'class' => 'datetime',
    'label' => 'myLabel',
),
 ? Reply 06:05, 4 December 2020 3 days ago Permalink Ammarpad (talkcontribs) You should try and see the result. Reply 06:28, 4 December 2020 3 days ago Permalink 49.230.13.180 (talkcontribs) @Ammarpad after adding that code block to LocalSettings.php I get a "????? ??????" ("inner error" - translated from Hebrew) in the form's webpage with: TypeError from line 521 of /home/progra87/x/example.com/includes/htmlform/HTMLForm.php: DateTime::__construct() expects parameter 1 to be string, array given Reply 07:13, 4 December 2020 3 days ago Permalink Bawolff (talkcontribs) just to clarify, the simple names like 'datetime' go in the type field not the class field (class and type do the same thing with different syntax. You can use either one) Reply 20:57, 4 December 2020 2 days ago Permalink Ammarpad (talkcontribs) Use 'class' => HTMLDateTimeField::class Reply 08:25, 4 December 2020 3 days ago Permalink 49.230.13.180 (talkcontribs) Thank you @Ammarpad It might be a problem unique to Hebrew-builds of MediaWiki but the date field appears somewhat gibberishi for me, either when not clicked or when clicked; I can't paste images here so here are illustrations; Unclicked: __               :   :    _
 Clicked: ?'    4    ???'    2020    8:8:8    Z
 @Amire80 if you haven't already, you might find it surprising Reply 09:03, 4 December 2020 3 days ago Permalink Bawolff (talkcontribs) it should look similar to the date field on https://he.wikipedia.org/wiki/?????:???????uselang=he (assuming ooui mode is enabled. Im not sure what contactform's default is) Reply 21:01, 4 December 2020 2 days ago Permalink 49.230.62.86 (talkcontribs) Should OOUI be enabled for ContactPage in a separate process than it is enabled for MediaWiki core? Reply 11:49, 5 December 2020 2 days ago Permalink 49.230.62.86 (talkcontribs) Seems my last question should be a separate question. Reply 14:41, 5 December 2020 2 days ago Permalink Bawolff (talkcontribs) looking at contactpage's source, it looks like ooui is enabled by default. Reply 01:31, 6 December 2020 1 day ago Permalink 49.230.62.86 (talkcontribs) As a way to make an appointment with ContactPage was given by Bawolff and Ammarpad, I think this thread should be locked. The problem I currently have about normally presenting date widgets in Hebrew websites should deserve another post. Reply 07:45, 6 December 2020 1 day ago Permalink Reply to "Appointment setting with ContactPage" Search bar 4 comments • 13:57, 7 December 2020 1 hour ago 4 Edit title History Permalink Summarize Onmiy (talkcontribs) Hello is it possible to start the first page of the wiki only with a search bar like 'Wikipedia' ? Reply 11:52, 7 December 2020 3 hours ago Permalink Ciencia Al Poder (talkcontribs) Yes. Create a custom static HTML page with the search bar and place it on your server. Then, you can set in your server (apache, nginx...) to load that page instead of index.php when someone reaches the root directory of the server. Reply 12:18, 7 December 2020 3 hours ago Permalink Onmiy (talkcontribs) Thank you. Can I also put a bigger search bar on the main page? Reply 13:44, 7 December 2020 1 hour ago Permalink Ciencia Al Poder (talkcontribs) You may try using Extension:InputBox Reply 13:57, 7 December 2020 1 hour ago Permalink Reply to "Search bar" Is it possible to share a login session across multiple servers? 5 comments • 13:48, 7 December 2020 1 hour ago 5 Summary last edited by T0lk 13:49, 7 December 2020 1 hour ago Not easily possible. History Permalink T0lk (talkcontribs) I have one server in Asia (slave) and another in the United States (master). A user in the geographic middle is having session problems from being routed to both. Is it possible to share the login session across both servers in memcached? Both servers have $wgSessionCacheType = CACHE_MEMCACHED; and run memcached locally. If I set up an array as documented in wgMemCachedServers would that solve the problem? Are there going to be performance issues from the US server beginning to cache/retrieve data in Asia? I tried cache_db in the past but found it very slow compared to memcached. 09:36, 31 October 2020 1 month ago Permalink Bawolff (talkcontribs) wikimedia uses (or at least did last time i checked) redis with replication for this purpose. In addition to session cache they also set $wgMainStash to be a replicated redis store For best results in a geographically distributed system, you may want to look into Manual:$wgWANObjectCaches but the docs are a little lacking. See also https://wikitech.wikimedia.org/wiki/Memcached_for_MediaWiki and manual:Caching 18:23, 31 October 2020 1 month ago Permalink T0lk (talkcontribs) Thank you! 01:40, 1 November 2020 1 month ago Permalink T0lk (talkcontribs) I setup redis on the master and slave servers, and then configured all servers like this: $wgObjectCaches['redis'] = [
    'class'                => 'RedisBagOStuff',
    'servers'              => [ '127.0.0.1:6379' ],
    // 'connectTimeout'    => 1,
    // 'persistent'        => false,
    // 'password'          => 'secret',
    // 'automaticFailOver' => true,
];
$wgSessionCacheType = 'redis';
 On the slave servers: in /etc/redis/redis.conf slaveof 172.xx.x.xxx 6379 # this is the private IP of the master server

slave-read-only no
 But the documentation says data (sessions?) written to the slave will be deleted on sync with the master. "Writing against a slave instance may be useful to store some ephemeral data (because data written on a slave will be easily deleted after resync with the master)". So this will not save sessions across servers (except in the case of sessions started on master server I think). The other way to do this was to point 'servers' in wgObjectCashes to the master server and then redis doesn't need to be running on the slave servers. But doing this is a little slow and doesn't take advantage of replication. Was I supposed to list the all servers under 'servers' in wgObjectCaches too? Edited 10:07, 5 December 2020 2 days ago Permalink T0lk (talkcontribs) I'll update this for anyone else. Since redis doesn't support master-master this idea of shared sessions isn't possible with redis alone. There are tasks tracking this idea https://phabricator.wikimedia.org/T212129 and https://phabricator.wikimedia.org/T206016 I wonder if the easiest way to set it up would be Netflix dynomite, but Wikimedia uses WANObjectCache/mcrouter model: https://phabricator.wikimedia.org/T156938 13:47, 7 December 2020 1 hour ago Permalink ??? ???????? ??????????? ??????????? ??????? ????????? 5 comments • 12:48, 7 December 2020 2 hours ago 5 History Permalink 109.172.40.77 (talkcontribs) 109.172.40.77 10:33, 17 August 2011 (UTC) 10:33, 17 August 2011 9 years ago Permalink MaxSem (talkcontribs) Manual:$wgAllowExternalImages. 10:42, 17 August 2011 9 years ago Permalink 109.172.40.77 (talkcontribs) ????????, ?? ??? ??? ????, ???? ? ?? ???? ??????? ? ??????????? ???????? ??? ????-???? ?? wikkii. 08:33, 18 August 2011 9 years ago Permalink MaxSem (talkcontribs) ????? ????????? ?????????? ???????. ??????? - ?????. 09:44, 18 August 2011 9 years ago Permalink 109.172.40.77 (talkcontribs) ? ????? ?????? ?????? ???????? ? ??? ????? ???????. 12:34, 18 August 2011 9 years ago Permalink wiki image 2 comments • 12:44, 7 December 2020 2 hours ago 2 Summary by 1234qwer1234qwer4 See also Help:Images. History Permalink 182.177.158.182 (talkcontribs) how to align a picture on my wiki edits. I want the picture on the extreme right corner with text on the left. HOw? 17:05, 3 April 2011 9 years ago Permalink Banaticus (talkcontribs) An example image showing how text will float around it. The default placement for a thumbnail is over on the right with the text floating around it, so make your image a thumbnail then give it a default width and a caption. Put the picture at the top of the text that you want over on the left. The example image of a sunflower field is the first thing in this paragraph, for instance, and was created with the following text: [[Image:example.jpg|thumb|300px|An example image showing how text will float around it.]] You'll notice that the text is to the left of the image and that it eventually flows out around the image. If you have a really short paragraph followed by a section header, the image will go down over the side of it. You can force text to resume after the image by "clearing the float" -- add the template: {{clear}} or learn what that means in CSS and add a div with a style that clears a right float. Anyway, here's some more dummy text to show you how the text floats around the image. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur? 02:39, 4 April 2011 9 years ago Permalink I need help 7 comments • 12:35, 7 December 2020 2 hours ago 7 Edit title History Permalink Summarize Davidsmeltzer07 (talkcontribs) I need help with DonationInterface extension. I'm stuck and can't get it work Reply 22:34, 6 December 2020 16 hours ago Permalink Ammarpad (talkcontribs) If you need help, you have to be more specific on what exactly does not work. See Manual:How to debug Reply Edited 05:43, 7 December 2020 9 hours ago Permalink Davidsmeltzer07 (talkcontribs) DonationInterface extension not showing up in Special:Version. This is what I have tried so far: I downloaded the extension, placed it in a folder in /extension/, added this wfLoadExtension( 'DonationInterface' ); in LocalSettings.php. Then added this also $wgPaypalGatewayEnabled = true; $wgPaypalGatewayAccountInfo = array( 'default' => array( 'AccountEmail' => 'example@gmail.com', ), ); What else can I do please because it's not working yet? Reply 08:00, 7 December 2020 7 hours ago Permalink Davidsmeltzer07 (talkcontribs) I'm still waiting for your reply please Reply 10:36, 7 December 2020 4 hours ago Permalink Ciencia Al Poder (talkcontribs) If it's not being displayed in Special:Version, the extension isn't installed nor enabled in LocalSettings.php. Be sure you edited the right LocalSettings.php file (on the right server, directory, etc) Reply 12:19, 7 December 2020 3 hours ago Permalink Davidsmeltzer07 (talkcontribs) I have installed more than 5 extensions with this process and they are all working. I'm thinking I am not doing something right about DonationInterface Reply 12:34, 7 December 2020 2 hours ago Permalink Davidsmeltzer07 (talkcontribs) Can you please go through the extension documentation, and help me with what and what to do, please? Reply 12:35, 7 December 2020 2 hours ago Permalink Reply to "I need help" Remove Table of contents 2 comments • 11:50, 7 December 2020 3 hours ago 2 Summary by Onmiy Solved History Permalink Onmiy (talkcontribs) Hello is it possible to remove the table of contents on the main page? Thanks 11:18, 7 December 2020 4 hours ago Permalink Malyacko (talkcontribs) @Onmiy The first search result is Manual:Table of contents 11:23, 7 December 2020 4 hours ago Permalink A date field appears as gibberish 3 comments • 09:43, 7 December 2020 5 hours ago 3 Edit title History Permalink Summarize 49.230.221.87 (talkcontribs) On my FasS-modeled hosting environment with some old CentOS and Bash 3.2.52(2) I have a principally all core MediaWiki 1.34.2 with primary language being Hebrew and just one external extension installed - a principally all core ContactPage. I have added to ContactPage's 'AdditionalFields' => array() the following date field: 'additional_field_y' => array(
    'class' => HTMLDateTimeField::class,
    'label' => '??? ???? ?????? (?? ??)',
),
 My problem I have a problem that might be unique to Hebrew or RTL builds of MediaWiki in which a date field appears somewhat gibberish, either when not clicked or when clicked; I can't post here pictures so here are illustrations: Unclicked: __               :   :    _
 Clicked ?'    4    ???'    2020    8:8:8    Z
 Further details As far as I know, the above date field depends on the OOUI PHP library and OOUI should work by default in my website (I don't recall ever doing any action to disable OOUI). It is unlikely that my hosting provider has disabled OOUI on PHP but I could check with them if I need to do so. My question Why do I have the above somewhat-gibberish-appearance problem (which also includes some image corruption with some letters appear deleted) and what can I do to solve it so that the date field would work without a problem? Reply 08:10, 7 December 2020 7 hours ago Permalink 49.230.221.87 (talkcontribs) appear deleted = appear partially deleted* Reply 09:42, 7 December 2020 5 hours ago Permalink 49.230.221.87 (talkcontribs) @AhmadF.Cheema Reply 09:43, 7 December 2020 5 hours ago Permalink Reply to "A date field appears as gibberish" How to create case insensitive readline links 2 comments • 09:20, 7 December 2020 6 hours ago 2 Edit title History Permalink Summarize Bluedreamer1 (talkcontribs) So I modified my database to create case insensitive page links with the following collation/charset changes lock table page write, temp_page write;
create table temp_page like page;
insert into temp_page select * from page;
alter table temp_page modify page_title varchar(255) character set utf8mb4 collate utf8mb4_general_ci not null;
rename table page to backup_20201206_page, temp_page to page;
unlock tables;
 But now I'd like the redline links to know that they are also case insensitive, is there another table maybe to modify? eg. I have a actual page called "The_Puddles" - and I link it on a page with [[the Puddles]], the link shows up as a redline/create page link, but when clicked it takes you to the existing page "The_Puddles". Any help appreciated Reply 18:30, 6 December 2020 20 hours ago Permalink This post was hidden by AKlapper (WMF) (history) Reply to "How to create case insensitive readline links" LocalSettings.php not found. 4 comments • 06:33, 7 December 2020 8 hours ago 4 Edit title History Permalink Summarize Whitetiger0423 (talkcontribs) Hello. I want to use mediawiki 1.35.0, and I even downloaded it, bot it doesn't work! In this site, I can see LocalSettings.php not found. Please set up the wiki first., but when I click the link, there's HTML Error 500. It drives me crazy.. Reply 05:02, 7 December 2020 10 hours ago Permalink Ammarpad (talkcontribs) You've yet to upload it probably. Note that it will not be automatically uploaded for you. See Manual:LocalSettings.php#File_contents Reply 05:38, 7 December 2020 9 hours ago Permalink Whitetiger0423 (talkcontribs) You mean that I have to download it by myself? Reply 05:44, 7 December 2020 9 hours ago Permalink Bawolff (talkcontribs) it sounds like the mediawiki installer is giving the 500 error. Check your php error log for the real error. Reply 06:33, 7 December 2020 8 hours ago Permalink Reply to "LocalSettings.php not found." Load more Retrieved from "https://www.mediawiki.org/wiki/Project:Support_desk" Navigation menu Personal tools English Not logged in Talk Contributions Create account Log in Namespaces MediaWiki.org Discussion Variants Views View history More Search Navigation Main page Get MediaWiki Get extensions Tech blog Contribute Support User help FAQ Technical manual Support desk Communication Development Bug tracker Code docs Code repository Statistics MediaWiki.org Community portal Recent changes Translate content Random page Current issues Sandbox Tools What links here Related changes Upload file Special pages Page information Print/export Create a book Download as PDF Printable version In other languages Add links Text is available under the Creative Commons Attribution-ShareAlike License; additional terms may apply. See Terms of Use for details. Privacy policy About MediaWiki.org Disclaimers Code of Conduct Mobile view Developers Statistics Cookie statement
